# はじめての Deno

目次

- はじめに
  - Deno ってなに
  - Deno で出来ること
  - Deno の特徴
- Deno をはじめる
  - Deno のインストール
  - Deno プログラムの実行の仕方
- Deno プログラミングをはじめよう
  - Deno で計算してみよう
  - 変数
  - 比較演算子
  - データ型
- プログラミングの基本編
  - 条件分岐
  - for 文
  - 関数
  - エラー
- プログラムからファイルを読み書きする
- サーバーを作ってみよう

# はじめに

本章ではプログラミングが初めての人向けに Deno の基本的な使い方を説明していきます.

## Deno ってなに?

Deno は JavaScript の実行エンジンです. Deno では JavaScript 言語と Deno 独自の命令を組み合わせて様々なプログラムを書くことが出来ます. Deno は 2010年代にアメリカのソフトウェアエンジニアによって開発が始められました. Deno という名前は, Deno が参考にしている JavaScript エンジンである "Node" のアナグラム (アルファベットの順番並び替え) として名付けられました. Deno は英語の Dino (Dinosaur = 恐竜) と発音が似ているため, Deno のマスコットキャラクターは恐竜になっています.

<!--
Deno は新しい JavaScript の実行環境です. Deno では JavaScript 言語でプログラムを書くことが出来ますが, 通常の JavaScript だけではなく, ファイルにアクセスしたり, サーバーを起動したりするための命令などが追加されています. Deno ではブラウザの JavaScript では出来ないような様々なプログラムを記述することが出来ます.

(Deno によく似た JavaScript の実行環境で Node があります. Node は2009年から開発が始められて, 今でも活発に開発されている JavaScript エンジンです. Deno は Node の抱える問題点を解決するために 2018年から新たに開発が始められた新しい JavaScript エンジンです.)

Deno はオープンソースの JavaScript 実行環境です. Deno は JavaScript を実行することが出来ますが, ブラウザ上ではなく, サーバー上で実行することが出来ます. Deno はクロスプラットフォームな実行環境なので, Deno で書いたプログラムは OS (windows / mac / linux) にかかわらず動かすことが出来ます.

Deno にとてもよく似ているもので Node があります. Node は 2009 年にリリースされて現在も開発が続けられている JavaScript の実行環境です. Deno は Node の作者が Node の設計で失敗してしまったことをやり直すために 2018 年に改めて 1 から開発を始めた, 新しいソフトウェアです.
-->

## Deno で出来ること

Deno は JavaScript のエンジンです. Deno には通常のプログラミング言語のように, ファイルを読み書きしたり, ネットワークにアクセスするための様々な命令が用意されています. Web サーバーを作ったり, ネットワークにアクセスしてインターネットから情報を集めたりするのは Deno が得意とする仕事です.

JavaScript と聞くとブラウザを思い浮かべる人が多いかもしれません. Deno は JavaScript のエンジンですが, ブラウザとは直接関係がありません. Deno で動かしたプログラムを画面から操作したい場合には, 少し工夫が必要になります.

<!--
通常のプログラミング言語と同じようにコンピュータ上で直接実行されます. Deno にはブラウザの JavaScript にはない様々な命令が追加

にファイルやネットワークなどコンピュータの持っているリソースに自由にアクセスする事が出来ます. Deno は Python, Ruby, PHP などのサーバーサイドのプログラミング言語に似ています.

Deno は汎用のプログラミング実行環境なので, プログラミングで出来ることは大体何でも出来ます. 特に以下のようなタスクは Deno でやるのに適しています:

- Web サーバーを作る
- Web サイトのスクレイピング
- コマンドラインツールを作る
- テキスト処理をする
- Websocket サーバーを作る
- etc
-->

## Deno の特徴

JavaScript で簡単に書けるシンプルなプログラミング環境というのが Deno の特徴ですが, それ以外にもいくつか特徴的な点があります.

### TypeScript も使える

Deno は JavaScript だけでなく TypeScript も実行することが出来ます. TypeScript は JavaScript よりも少し記述量が多くなる言語ですが, 代わりに型情報を記述することができるようになります. 型情報を書くことで, プログラムの部品がどういう型を持っているかが自動的にチェックされるようになるため, プログラムのバグを減らす事が出来ます.

通常 TypeScript を利用したい場合は, Node.js という環境を利用しますが, その場合 tsconfig.json という設定ファイルが必要になったり, ts-node や typescript などの npm モジュールのインストールが必要になったりと, 様々な準備が必要になります. Deno はそれらの各種設定を全て内部に含んでいるため, なんの準備もなしにいきなり TypeScript 言語を書くだけで TypeScript を始めることが出来ます.

### セキュリティ機構がある

Deno の特徴の一つで独特なセキュリティのコントロールがあります. Deno は実行時にコマンドラインオプションで, プログラムが何をして良い, 何はしてはいけないということをあらかじめ決めてから実行します. そのため, そのプログラムのどこかに, 意図せず攻撃者の仕組んだ攻撃コードが入っていたとしても, セキュリティのコントロールをしていれば被害を防ぐことが出来ます. Node の世界では毎年何回か npm モジュールが攻撃者に乗っ取られて, 攻撃コードがモジュールに混入される被害が年に数回は起きていますが, Deno ではそのような攻撃を Deno のセキュリティ機能を使って防ぐことが出来ます.

# Deno の環境を構築しよう

それでは実際に Deno を動かすための環境を構築していきましょう.

## Deno のインストール

この節では Deno をインストールする方法を説明します.

### Windows

- ターミナルを開く
- DL コマンドを叩く
- tips: scoop
- 環境変数の設定
- deno コマンドの確認

### Mac

- ターミナルを開く
- DL コマンドを叩く
- tips: Homebrew
- 環境変数
- deno コマンドの確認

## Deno プログラムの実行の仕方

- インタラクティブシェル
- ファイルを実行
- URL を実行

# Deno プログラミングをはじめよう

ここまでで Deno でプログラムを動かすことが出来るようになりました. この章からは, Deno を使って本格的なプログラミングを学んでいきましょう.

## Deno で計算してみよう

- 足し算, 引き算
- 掛け算, 割り算
- 優先順位
- 剰余
- べき乗

それではターミナルで deno (windows では deno.exe) と入力してみましょう.

```
$ deno
>
```

上のような文字 (`>`) が表示されたはずです. この画面は Deno のインタラクティブシェルというもので, Deno に色々な式の値を聞く事が出来ます. ではまず 1 + 1 が何になるかを Deno に聞いてみましょう

```
> 1 + 1
2
```

2 と出ましたね. では次に 3 * 4 を聞いてみましょう

```
> 3 * 4
12
```

12 と出てきましたね. このように Deno のインタラクティブシェルに色々な式を入力すると, その式が Deno の中でいくつになるかを表示する事が出来ます.

##
